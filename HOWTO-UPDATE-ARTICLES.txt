THE SANDLOT TRIBUNE — HOW TO UPDATE THE SITE
=============================================
Last updated: 2026-02-28

This guide explains how to publish articles, maintain Firebase engagement
features, and push changes to GitHub Pages. No deep coding knowledge required.


---

FOLDER STRUCTURE OVERVIEW
--------------------------

sandlottribune/
├── index.html                  ← Home page (hero + countdown + latest articles)
├── between-the-chalk/
│   └── index.html              ← Article hub: Latest + Team Previews + categories
├── season-previews/
│   ├── index.html              ← Season previews hub (sortable, filterable)
│   ├── season_preview_2026_ari.html
│   ├── season_preview_2026_lva.html
│   ├── season_preview_2026_stl.html
│   └── charts/                 ← PNG charts referenced by article files
├── season-deadlines/
│   └── index.html              ← Full season calendar + scoring awards
├── league-records/
│   └── index.html              ← Under construction
├── about/
│   └── index.html              ← Under construction
├── assets/
│   ├── css/main.css            ← Shared stylesheet
│   ├── images/                 ← Logo + team thumbnail images
│   └── js/
│       ├── firebase-config.js  ← Firebase connection (do NOT share publicly)
│       └── article-engagement.js ← Read counters, star ratings, comments logic
├── HOWTO-UPDATE-ARTICLES.txt   ← This file
└── SITE-PLAN.md                ← Design and architecture reference


---

ONE-TIME FIREBASE SETUP (already done — do not redo)
------------------------------------------------------

Firebase is set up and connected. The config lives in assets/js/firebase-config.js.
Do NOT delete or overwrite this file — it's how ratings and comments get saved.

If engagement features stop working, verify:
  1. The databaseURL in firebase-config.js matches what's shown in
     Firebase Console → Build → Realtime Database (top of the page)
  2. Firebase Realtime Database rules allow read/write:
     Go to Firebase Console → Realtime Database → Rules tab, confirm:
       { "rules": { ".read": true, ".write": true } }


---

PUBLISHING A NEW SEASON PREVIEW ARTICLE
-----------------------------------------

Step 1 — Generate the article using TSDL2026 pipeline
  Run notebook 44 in TSDL2026/notebooks/04_article_generation/
  Output goes to: TSDL2026/articles/YYYY-MM-DD/

Step 2 — Copy the article file to sandlottribune
  Copy:  TSDL2026/articles/YYYY-MM-DD/season_preview_2026_[TEAM].html
  To:    sandlottribune/season-previews/season_preview_2026_[TEAM].html

  Copy chart images:
  From:  TSDL2026/articles/YYYY-MM-DD/charts/*.png
  To:    sandlottribune/season-previews/charts/*.png
  NOTE: Article HTML references charts as "charts/filename.png".
        Keep them in season-previews/charts/ so links work.

Step 3 — Prepare a thumbnail image
  Crop the team's preview image (remove watermark) and save as:
    sandlottribune/assets/images/[team]-preview.png
  Team codes: ari, atl, bos, chc, cin, col, hou, las, mia, mil,
              nyy, phi, san, sea, stl, tex, tor, wsh

Step 4 — Add engagement features to the new article
  At the BOTTOM of the new article HTML, just before </body>, add:

  ---- COPY FROM HERE ----
  <!-- ── Rate This Article ── -->
  <section class="article-engagement-section">
    <h3>Rate This Article</h3>
    <div id="rating-section"></div>
  </section>

  <!-- ── Comments ── -->
  <section class="article-engagement-section">
    <h3>Comments</h3>
    <div id="comments-section"></div>
  </section>

  <script type="module">
    import { initEngagement } from '../assets/js/article-engagement.js';
    initEngagement('season_preview_2026_[TEAM]');
  </script>
  ---- COPY TO HERE ----

  Replace [TEAM] with the team code (e.g., phi, col, atl).

  Also add the engagement BYLINE section right after the
  <p class="byline">...</p> line in the article header:

  ---- COPY FROM HERE ----
    <div class="engagement-byline">
      <span id="engagement-rating"></span>
      <span id="engagement-view-count"></span>
    </div>
  ---- COPY TO HERE ----

  Also add the engagement CSS to the article's embedded <style> block
  (just before the closing </style> tag). Copy the CSS block from any
  existing article (season_preview_2026_ari.html) — it's the section
  labeled "/* ── Engagement ── */".

Step 5 — Update season-previews/index.html
  Open: sandlottribune/season-previews/index.html
  Find the comment that says "PASTE NEW PREVIEWS ABOVE THIS LINE"
  Paste this template ABOVE that comment (newest article at top):

  ---- COPY FROM HERE ----
        <li data-team="[TEAM]" data-date="YYYY-MM-DD">
          <article class="article-list-card">
            <img class="card-image" src="../assets/images/[TEAM]-preview.png" alt="[Team Name] 2026 Season Preview">
            <div class="card-body">
              <span class="card-badge">Season Preview</span>
              <h2 class="card-title">2026 TSDL Season Preview: [Team Name]</h2>
              <p class="card-meta">By [Author Name] &nbsp;&middot;&nbsp; [Month Day, Year]</p>
              <div class="card-rating-row" id="card-rating-season_preview_2026_[TEAM]"></div>
              <p class="card-excerpt">[1-2 sentence teaser about the team and article.]</p>
              <a class="card-link" href="season_preview_2026_[TEAM].html">Read Article &rarr;</a>
            </div>
          </article>
        </li>
  ---- COPY TO HERE ----

  Then scroll to the bottom of the page's <script type="module"> block
  and add 'season_preview_2026_[TEAM]' to the fetchCardRatings([...]) array.

Step 6 — Update index.html (home page) "Latest" section
  Open: sandlottribune/index.html
  The "Latest" section shows the 3-4 most recent articles.

  HOME PAGE ARTICLE CARD TEMPLATE:
  ---- COPY FROM HERE ----
        <!-- [Team Name] Season Preview -->
        <article class="article-card">
          <img class="card-image" src="assets/images/[TEAM]-preview.png" alt="[Team Name] 2026 Season Preview">
          <div class="card-body">
            <span class="card-badge">Season Preview</span>
            <h3 class="card-title">2026 TSDL Season Preview: [Team Name]</h3>
            <p class="card-meta">By [Author Name] &nbsp;&middot;&nbsp; [Month Day, Year]</p>
            <div class="card-rating-row" id="card-rating-season_preview_2026_[TEAM]"></div>
            <p class="card-excerpt">[1-2 sentence teaser.]</p>
            <a class="card-link" href="season-previews/season_preview_2026_[TEAM].html">Read Article &rarr;</a>
          </div>
        </article>
  ---- COPY TO HERE ----

  Also add 'season_preview_2026_[TEAM]' to the fetchCardRatings([...]) array
  at the bottom of index.html.

  MANAGING THE 4 HOME PAGE SLOTS:
  - Home page shows max 4 articles (1 featured + up to 3 regular + 1 placeholder)
  - Replace the placeholder <div class="article-card article-card--placeholder">
    with a real article card as new articles are published
  - When all 4 slots are real articles, remove the oldest to keep only 4
    (it stays in season-previews/index.html — just removed from home)
  - To make a new article the "featured" (big 2-column) card:
    change its class to "article-card article-card--featured" and
    change the old featured card back to just "article-card"

Step 7 — Update between-the-chalk/index.html "Latest" section
  Open: sandlottribune/between-the-chalk/index.html
  The "Latest" section at the top shows the most recent articles.
  Same process as home page — add a card, remove oldest if > 3.
  Also update the "Team Previews" mini-grid (shows 2 most recent).
  Add the new article ID to the fetchCardRatings([...]) array at the bottom.

Step 8 — Push to GitHub
  In Git Bash or your terminal:
    cd C:/Users/RTSch/sandlottribune
    git add .
    git commit -m "Add 2026 season preview: [Team Name]"
    git push origin main
  The site updates automatically within 1-2 minutes.


---

PUBLISHING POWER RANKINGS / MATCHUP / TRADE ARTICLES
------------------------------------------------------

These sections show as "Coming Soon" in Between The Chalk.
When you have content, here's how to activate:

Step 1 — Create the article
  Use the appropriate notebook from TSDL2026.
  Article filename conventions:
    Power Rankings:  power_rankings_week[NN]_[YEAR].html
    Matchup Preview: matchup_preview_week[NN]_[YEAR].html
    Trade Analysis:  trade_analysis_[YEAR]_[descriptor].html

Step 2 — Add engagement features
  Same as Step 4 above (byline snippet + engagement sections + script).
  The ARTICLE_ID should match the filename without .html:
    e.g., initEngagement('power_rankings_week01_2026')

Step 3 — Create a hub page for the category (first time only)
  mkdir sandlottribune/power-rankings/
  Copy season-previews/index.html as a starting template.
  Update the title, heading, and article list.
  Remove the sort/filter bar (or keep if appropriate).
  Remove the team-filter tags if not relevant for non-preview articles.

Step 4 — Update between-the-chalk/index.html
  Replace the "Coming Soon" placeholder for that category with real cards.
  Add the article card above the coming-soon div, then remove the coming-soon.

Step 5 — Update the home page Explore grid (if applicable)
  Find the "Coming Soon" explore card for the category and convert to a link:
    <a class="explore-card" href="power-rankings/index.html">
      <span class="explore-card-title">Power Rankings</span>
    </a>

Step 6 — Push to GitHub (same as above)


---

ARTICLE FILENAME CONVENTION
-----------------------------

Season Previews:  season_preview_[YEAR]_[teamcode].html
Power Rankings:   power_rankings_week[NN]_[YEAR].html
Matchup Preview:  matchup_preview_week[NN]_[YEAR].html
Trade Analysis:   trade_analysis_[YEAR]_[descriptor].html

Team codes (lowercase):
  ari, atl, bos, chc, cin, col, hou, las, mia, mil,
  nyy, phi, san, sea, stl, tex, tor, wsh


---

ARTICLE THUMBNAIL IMAGE CONVENTION
-------------------------------------

File location:  sandlottribune/assets/images/
File naming:    [teamcode]-preview.png  (e.g., ari-preview.png)
Source images:  TSDL2026/Current Project Documents/canva & wix images/Main Page/
  - Crop bottom watermark using Pillow (crop to ~390px height from 600px original)
  - Save as PNG


---

FIREBASE ENGAGEMENT — HOW IT WORKS
-------------------------------------

When an owner opens an article:
  - The view counter increments automatically in Firebase
  - The star rating summary (average + count) loads below the byline
  - At the bottom: interactive 5-star rating widget + comments section

When an owner rates an article:
  - Their rating is saved to Firebase and visible to everyone
  - Their browser remembers they rated (localStorage) so they can't rate twice
  - The rating summary at the top updates live

When an owner posts a comment:
  - They type their name + comment and click "Post Comment"
  - Comments appear live for all owners (no page refresh needed)
  - Comments are sorted newest-first

To VIEW ratings and comments in Firebase Console:
  Go to Firebase Console → Build → Realtime Database → Data tab
  You'll see the full JSON tree:
    articles/
      season_preview_2026_ari/
        views: 42
        ratings/ { ... }
        comments/ { ... }

To DELETE a comment (if needed):
  In Firebase Console → Realtime Database → Data
  Navigate to articles/[article-id]/comments/
  Find the comment and click the red X to delete it


---

UPDATING SEASON COUNTDOWN EVENTS
-----------------------------------

The countdown on the home page automatically shows the next upcoming event.
Events are defined in index.html in the EVENTS array near the bottom:

  var EVENTS = [
    { name: 'Legal Roster Deadline', short: 'Mar 15', date: new Date('2026-03-15T10:00:00-05:00') },
    ...
  ];

To update for the 2027 season: change the dates in this array.
The countdown will automatically pick whichever event comes next.


---

PUSHING CHANGES TO GITHUB PAGES
----------------------------------

  cd C:/Users/RTSch/sandlottribune
  git status              ← see what changed
  git add .               ← stage all changes
  git commit -m "Brief description of what you changed"
  git push origin main

The site at your GitHub Pages URL updates within 1-2 minutes of pushing.


---

NEED HELP?
-----------
For questions about the data pipeline (generating articles), see:
  TSDL2026/CLAUDE.md  —  full project guide

For questions about the website structure, see:
  sandlottribune/SITE-PLAN.md  —  design and architecture reference
